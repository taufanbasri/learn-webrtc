<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Taufan Introduction to WebRTC</title>
    </head>
    <body>
        <video autoplay controls></video>

        <script>
            navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;

            var constraints = {
                audio: true,
                video: {
                    mandatory: {
                        minWidth: 320,
                        maxWidth: 320,
                        minHeight: 240,
                        maxHeight: 240
                    }
                }
            };

            var videoArea = document.querySelector('video');

            navigator.getUserMedia(constraints, onSuccess, onError);

            function onSuccess(stream) {
                console.log('Success! We have a stream!');
                videoArea.src = window.URL.createObjectURL(stream);
                videoArea.play();
            }

            function onError(error) {
                console.log('Error with getUserMedia: ', error);
            }
        </script>
    </body>
</html>
